BjPage
{
AdjustFrame:0
BeforeCreate:""
BodyProp:""
BootstrapVer:2
Caption:添加角色
Enabled:1
Name:BjPage1
PageID:""
ParenClass:""
Visible:1
Workflow:""
Position
{
Height:900
Left:114
Top:91
Width:800
}
Events
{
Def:""
OnLoad:""
}
@
{
EasyScript
{
Caption:设置二级菜单
Code:"me.ControlProp[\"二级菜单/Active\"] = \"角色设置\";"
CodeType:load
Name:EasyScript1
Position
{
Height:20
Left:7
Top:-35
Width:80
}
}
UserControl
{
BeforeCreate:""
Caption:""
Enabled:1
Name:UserControl1
PathName:"/template/webmanagetemp.ui"
Visible:1
Position
{
Height:707
Left:49
Top:36
Width:831
}
@
{
Box
{
AfterCreate:""
BeforeCreate:""
Caption:""
Enabled:1
ExtProp:""
ID:""
Name:SettingClient
TagName:""
Visible:1
Position
{
Height:729
Left:18
Top:23
Width:757
}
@
{
BjBreadcrumbNav
{
BeforeCreate:""
ExtProp:""
Name:BjBreadcrumbNav1
Position
{
Height:52
Left:20
Top:21
Width:436
}
@
{
BjBreadcrumb
{
Active:""
BeforeCreate:""
Caption:当前位置：
Divider:""
Enabled:1
Name:BjBreadcrumb1
Visible:1
href:""
Position
{
Height:20
Left:16
Top:18
Width:80
}
}
BjBreadcrumb
{
Active:""
BeforeCreate:""
Caption:系统设置
Divider:"/"
Enabled:1
Name:BjBreadcrumb2
Visible:1
href:"<%echo(FixUrl(\"/webmanage/main.esh\"));%>"
Position
{
Height:20
Left:106
Top:18
Width:80
}
}
BjBreadcrumb
{
Active:""
BeforeCreate:""
Caption:角色设置
Divider:"/"
Enabled:1
Name:BjBreadcrumb3
Visible:1
href:"<%echo(FixUrl(\"/webmanage/org/role.esh\"));%>"
Position
{
Height:20
Left:202
Top:18
Width:80
}
}
BjBreadcrumb
{
Active:""
BeforeCreate:""
Caption:添加角色
Divider:""
Enabled:1
Name:BjBreadcrumb4
Visible:1
href:""
Position
{
Height:20
Left:303
Top:18
Width:80
}
}
}
}
BjSubmitArea
{
Action:""
BeforeCreate:""
Caption:""
FileUpload:0
Horz:0
ID:""
Inline:0
Method:post
Name:t_role_submitarea
Search:0
Position
{
Height:540
Left:20
Top:86
Width:632
}
@
{
EasyScript
{
Caption:""
Code:"
public var _Errort_role_Hint=\"\";
public var _Successt_role_Hint=\"\";
"
CodeType:server
Name:esvar_t_role
Position
{
Height:20
Left:10
Top:10
Width:80
}
}
ConditionControl
{
Action:"me._Errort_role_Hint <> \"\""
BeforeCreate:""
Method:if
Name:errconditiont_role
Position
{
Height:80
Left:10
Top:40
Width:338
}
@
{
BjAlertBox
{
BeforeCreate:""
CanClose:1
Caption:""
Enabled:1
ID:""
Level:error
Multi:1
Name:errAlertt_role
Visible:1
Position
{
Height:60
Left:10
Top:10
Width:300
}
@
{
Html
{
BeforeCreate:""
Caption:错误提示_t_role
Code:"<% echo(me._Errort_role_Hint); %>"
Name:errHtml_t_role
Position
{
Height:20
Left:10
Top:10
Width:80
}
}
}
}
}
}
ConditionControl
{
Action:"me._Successt_role_Hint <> \"\""
BeforeCreate:""
Method:if
Name:successconditiont_role
Position
{
Height:80
Left:10
Top:130
Width:338
}
@
{
BjAlertBox
{
BeforeCreate:""
CanClose:1
Caption:""
Enabled:1
ID:""
Level:success
Multi:1
Name:successAlertt_role
Visible:1
Position
{
Height:60
Left:10
Top:10
Width:300
}
@
{
Html
{
BeforeCreate:""
Caption:成功提示_t_role
Code:"<% echo(me._Successt_role_Hint); %>"
Name:successHtml_t_role
Position
{
Height:20
Left:10
Top:10
Width:80
}
}
}
}
}
}
Box
{
AfterCreate:""
BeforeCreate:""
Caption:""
Enabled:1
ExtProp:"class=\"panel\" style=\"padding:9px\""
ID:""
Name:Box1
TagName:""
Visible:1
Position
{
Height:69
Left:10
Top:214
Width:612
}
@
{
Box
{
AfterCreate:""
BeforeCreate:""
Caption:""
Enabled:1
ExtProp:"style=\"margin-right:10px\""
ID:""
Name:Box2
TagName:span
Visible:1
Position
{
Height:42
Left:10
Top:11
Width:132
}
@
{
BjButton
{
BeforeCreate:""
Block:0
ButtonType:normal
Caption:角色类型：
Enabled:0
Feedback:none
ID:""
Inline:""
Name:BjButton1
Size:default
URL:""
URLParam:""
Visible:1
Position
{
Height:20
Left:15
Top:13
Width:80
}
Events
{
OnClick:""
OnClientClick:""
}
}
}
}
BjCombo
{
BeforeCreate:"var aRoleType=
[
	{\"k\":0,\"v\":\"群组\"},
	{\"k\":1,\"v\":\"组织\"},
	{\"k\":2,\"v\":\"动态\"}
];
var curRoleType = me._vo.key;
if( curRoleType == \"\" ) curRoleType = \"0\";
"
CanEdit:0
Caption:""
ChoiceObject:aRoleType
Choices:""
Enabled:1
Multi:0
Name:roletype
Pill:1
Value:curRoleType
Visible:1
Position
{
Height:20
Left:216
Top:24
Width:80
}
Events
{
OnSelect:""
}
}
}
}
BjEdit
{
BeforeCreate:""
Caption:角色名称：
Enabled:1
ID:""
Inline:0
IsMultiline:0
IsPassword:0
Name:name
PlaceHolder:""
Search:0
Size:none
Value:""
Visible:1
Wide:none
cols:0
rows:0
Position
{
Height:20
Left:80
Top:326
Width:80
}
InfoStatus
{
Condition:""
Text:""
}
WarnStatus
{
Condition:""
Text:""
}
ErrorStatus
{
Condition:""
Text:""
}
SuccessStatus
{
Condition:""
Text:""
}
Events
{
OnSearch:""
}
Validate
{
DisplayName:name
Format:""
MaxLength:128
MustFill:1
}
}
BjEdit
{
BeforeCreate:""
Caption:角色描述：
Enabled:1
ID:""
Inline:0
IsMultiline:1
IsPassword:0
Name:desc
PlaceHolder:""
Search:0
Size:none
Value:""
Visible:1
Wide:none
cols:0
rows:0
Position
{
Height:20
Left:80
Top:356
Width:80
}
InfoStatus
{
Condition:""
Text:""
}
WarnStatus
{
Condition:""
Text:""
}
ErrorStatus
{
Condition:""
Text:""
}
SuccessStatus
{
Condition:""
Text:""
}
Events
{
OnSearch:""
}
Validate
{
DisplayName:desc
Format:""
MaxLength:1024
MustFill:0
}
}
Box
{
AfterCreate:""
BeforeCreate:""
Caption:""
Enabled:1
ExtProp:""
ID:""
Name:Box3
TagName:""
Visible:1
Position
{
Height:60
Left:25
Top:406
Width:266
}
@
{
BjButton
{
BeforeCreate:""
Block:0
ButtonType:submit
Caption:提交
Enabled:1
Feedback:primary
ID:""
Inline:1
Name:btnsubmit_t_role
Size:default
URL:""
URLParam:""
Visible:1
Position
{
Height:20
Left:21
Top:21
Width:80
}
Events
{
OnClick:"
try
{
	

		
		if( \"\" == me._vo.name ) throw \"请输入name\";
		
			if( me._vo.name.Length >128 ) throw \"输入的数据长度超过了name的限制\";
			
			if( me._vo.desc.Length >1024 ) throw \"输入的数据长度超过了desc的限制\";
			
		
		if( \"\" == me._vo.roletype ) throw \"请输入roletype\";
		
}
catch (ex)
{
	me._Errort_role_Hint= string(ex);
	return;
}
var obj=
{
	\"id\"			: me._vo.id,
	\"name\"			: me._vo.name,
	\"desc\"			: me._vo.desc,
	\"isdeleted\"			: me._vo.isdeleted,
	\"roletype\"			: me._vo.roletype,
	\"unitid\"			: me._vo.unitid

};
(new dao.table(\"t_role\")).Add(obj);
me._Successt_role_Hint = \"添加成功\";
"
OnClientClick:""
}
}
BjButton
{
BeforeCreate:""
Block:0
ButtonType:back
Caption:返回
Enabled:1
Feedback:none
ID:""
Inline:1
Name:btncancel_t_role
Size:default
URL:""
URLParam:""
Visible:1
Position
{
Height:20
Left:114
Top:21
Width:80
}
Events
{
OnClick:""
OnClientClick:""
}
}
}
}
}
}
}
}
}
}
}
}
